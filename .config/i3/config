# AF - vars for monitor(s)
set $out1 eDP-1
set $out2 HDMI-1
set $out3 VGA-1
# AF - VGA-1 changed to DP-1
set $out4 DP-1

# AF variables for name workspaces
#set $w1 "1: glances"
#set $w2 "2: skype"
#set $w3 "3: email"
#set $w4 "4: RDP"
#set $w5 "5: music"
#set $w6 "6: www"
#set $w7 "7: terminals"
#set $w8 "8: misc"
#set $w9 "9: misc"
#set $w0 "10: Pycharm"
# AF - icons for workspaces
set $w01 "1:ÔÉ§"
set $w02 "2:ÔÖ∫"
set $w03 "3:Ôâ©"
set $w04 "4:üéß"
set $w05 "5:ÔÉ†"
set $w06 "6:ÔÖæ"
#set $w02 "üìû"
#set $w04 "Ôâ¨"
#set $w07 "Ôãê"
#set $w07 "7:ÔÑ†Óïì"
set $w07 "7:ÔÑ†"
set $w08 "8:üîä"
set $w09 "9:üñß"
set $w00 "10:ÔâµÓâê"
set $w11 "F1"
set $w12 "F2"
set $w13 "F3"
set $w14 "F4"
set $w15 "F5"
set $w16 "F6"
set $w17 "F7"
set $w18 "F8"
set $w19 "F9"
set $w10 "F10"
set $w21 "F11"
set $w22 "F12"

# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

set $mod Mod4

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
#font pango:monospace 8

font pango:Hack-Regular 8

# This font is widely installed, provides lots of unicode glyphs, right-to-left
# text rendering and scalability on retina/hidpi displays (thanks to pango).
#font pango:DejaVu Sans Mono 8

# Before i3 v4.8, we used to recommend this one as the default:
# font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
# The font above is very space-efficient, that is, it looks good, sharp and
# clear in small sizes. However, its unicode glyph coverage is limited, the old
# X core fonts rendering does not support right-to-left and this being a bitmap
# font, it doesn‚Äôt scale on retina/hidpi displays.

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
# bindsym $mod+Return exec i3-sensible-terminal
bindsym $mod+Return exec terminology

# kill focused window
bindsym $mod+Shift+q kill

# start dmenu (a program launcher)
# bindsym $mod+d exec dmenu_run
# There also is the (new) i3-dmenu-desktop which only displays applications
# shipping a .desktop file. It is a wrapper around dmenu, so you need that
# installed.
bindsym $mod+d exec --no-startup-id i3-dmenu-desktop --dmenu='rofi -dmenu'

# change focus
# bindsym $mod+j focus left
# bindsym $mod+k focus down
# bindsym $mod+l focus up
# bindsym $mod+ntilde focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
# bindsym $mod+Shift+j move left
# bindsym $mod+Shift+k move down
# bindsym $mod+Shift+l move up
# bindsym $mod+Shift+ntilde move right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# split in horizontal orientation
bindsym $mod+h split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+t layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+p focus parent

# focus the child container
#bindsym $mod+c focus child

# switch to workspace
bindsym $mod+1 workspace $w01
bindsym $mod+2 workspace $w02
bindsym $mod+3 workspace $w03
bindsym $mod+4 workspace $w04
bindsym $mod+5 workspace $w05
bindsym $mod+6 workspace $w06
bindsym $mod+7 workspace $w07
bindsym $mod+8 workspace $w08
bindsym $mod+9 workspace $w09
bindsym $mod+0 workspace $w00
bindsym $mod+F1 workspace $w11
bindsym $mod+F2 workspace $w12
bindsym $mod+F3 workspace $w13
bindsym $mod+F4 workspace $w14
bindsym $mod+F5 workspace $w15
bindsym $mod+F6 workspace $w16
bindsym $mod+F7 workspace $w17
bindsym $mod+F8 workspace $w18
bindsym $mod+F9 workspace $w19
bindsym $mod+F10 workspace $w10
bindsym $mod+F11 workspace $w21
bindsym $mod+F12 workspace $w22

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $w01
bindsym $mod+Shift+2 move container to workspace $w02
bindsym $mod+Shift+3 move container to workspace $w03
bindsym $mod+Shift+4 move container to workspace $w04
bindsym $mod+Shift+5 move container to workspace $w05
bindsym $mod+Shift+6 move container to workspace $w06
bindsym $mod+Shift+7 move container to workspace $w07
bindsym $mod+Shift+8 move container to workspace $w08
bindsym $mod+Shift+9 move container to workspace $w09
bindsym $mod+Shift+0 move container to workspace $w00
bindsym $mod+Shift+F1 move container to workspace $w11
bindsym $mod+Shift+F2 move container to workspace $w12
bindsym $mod+Shift+F3 move container to workspace $w13
bindsym $mod+Shift+F4 move container to workspace $w14
bindsym $mod+Shift+F5 move container to workspace $w15
bindsym $mod+Shift+F6 move container to workspace $w16
bindsym $mod+Shift+F7 move container to workspace $w17
bindsym $mod+Shift+F8 move container to workspace $w18
bindsym $mod+Shift+F9 move container to workspace $w19
bindsym $mod+Shift+F10 move container to workspace $w10
bindsym $mod+Shift+F11 move container to workspace $w21
bindsym $mod+Shift+F12 move container to workspace $w22

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# resize window (you can also use the mouse for that)
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window‚Äôs width.
        # Pressing right will grow the window‚Äôs width.
        # Pressing up will shrink the window‚Äôs height.
        # Pressing down will grow the window‚Äôs height.
        # bindsym j resize shrink width 10 px or 10 ppt
        # bindsym k resize grow height 10 px or 10 ppt
        # bindsym l resize shrink height 10 px or 10 ppt
        # bindsym ntilde resize grow width 10 px or 10 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod+Control+r mode "resize"

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
  #  separator "ÓÇ∞"
  separator_symbol "ÓÇ∞"
#  sep_block_width 4
  font pango:Hack, FontAwesome 8
  status_command /home/aaron/bin/i3status-rs /home/aaron/.config/i3/status.toml
#  status_command i3status
#  status_command python /home/aaron/.local/lib/python2.7/site-packages/powerline/bindings/i3/powerline-i3.py
#  status_command py3status
  colors {
    separator #dc322f
    background #002b36
    statusline #268bd2
    focused_workspace #fdf6e3 #859900 #fdf6e3
    active_workspace #fdf6e3 #6c71c4 #fdf6e3
    inactive_workspace #586e75 #93a1a1 #002b36
    urgent_workspace #d33682 #d33682 #fdf6e3
  }
}


# AF workspaces
#workspace "1: glances" output eDP-1
#workspace "2: skype" output eDP-1
#workspace "3: term" output eDP-1
#workspace 4 output eDP-1
#workspace 5 output eDP-1
#workspace "6: www" output HDMI-1
#workspace "7: email" output HDMI-1 
#workspace 8 output HDMI-1
#workspace "9: RDP" output HDMI-1
#workspace "0: pycharm" output HDMI-1
workspace $w01 output $out1
workspace $w02 output $out1
workspace $w03 output $out1
workspace $w04 output $out1
workspace $w05 output $out1
workspace $w06 output $out1
workspace $w07 output $out1
workspace $w08 output $out1
workspace $w09 output $out1
workspace $w00 output $out1
workspace $w11 output $out2
workspace $w12 output $out2
workspace $w13 output $out2
workspace $w14 output $out2
workspace $w15 output $out2
workspace $w16 output $out2
workspace $w17 output $out2
workspace $w18 output $out2
workspace $w19 output $out4
workspace $w10 output $out4
workspace $w21 output $out4
workspace $w22 output $out4

# AF assign programs to specific workspaces
assign [class="Remmina"] $w02
assign [class="Firefox"] $w03
assign [class="Google Play Music Desktop Player"] $w04
#assign [class="hiri"] $w05
assign [class="Evolution"] $w05
assign [class="Skype"] $w06
assign [class="Pavucontrol"] $w08
assign [class="Vpnui"] $w09
assign [class="jetbrains-pycharm" instance="sun-awt-X11-XFramePeer"] $w00

# AF extras
bindsym $mod+Tab exec --no-startup-id rofi -show window
bindsym $mod+r exec --no-startup-id rofi -show run
bindsym $mod+c exec --no-startup-id rofi -show ssh
bindsym $mod+l exec --no-startup-id ~/bin/i3lock-wrapper -d -e -l

# AF - truco!
# 29/08/2018 - diabling this truco so that alt+tab is available to emacs
#bindsym Mod1+Tab exec --no-startup-id ~/bin/i3lock-wrapper -d -e -l

hide_edge_borders both
#new_window none
#workspace_layout stacking
workspace_layout tabbed
workspace_auto_back_and_forth yes

# AF startup items
# Auto screen blanking
exec --no-startup-id xset dpms 300 600 900
# AF - transparency-enabling compositor
exec --no-startup-id compton --vsync=drm --backend=glx
# AF - external monitor is above laptop screen
exec --no-startup-id xrandr --output $out2 --above $out1

# AF - volume control tray icon
exec --no-startup-id volumeicon

# AF - custom wallpaper downloader+setter script
#exec --no-startup-id ~/bin/bing_wallpaper.sh en-UK true true
exec --no-startup-id variety

# AF - start music player
exec /usr/bin/google-play-music-desktop-player

# AF - start RDP client
exec /usr/bin/remmina

# AF - start terms --- this wasn't working so only starting one term
#exec --no-startup-id i3-msg 'workspace $w01;exec terminology -e glances'
exec --no-startup-id i3-msg 'workspace $w01;exec terminology -e "tmux -2u -c glances"'
#exec --no-startup-id i3-msg 'workspace $w09;exec terminology'
#exec --no-startup-id i3-msg 'workspace $w09;split h;exec terminology'
#exec --no-startup-id i3-msg 'workspace $w09;split v;exec terminology'
#exec --no-startup-id i3-msg 'workspace $w09;focus left;split v;exec terminology'

# AF - start firefox
exec /usr/bin/firefox

# AF - Skype
# AF this is weird... without any switches Skype segfaults every time
# AF 23/4/18 update - skype might be feeling better now?
#exec PULSE_LATENCY_MSEC=50 /usr/share/skypeforlinux/skypeforlinux --help
exec PULSE_LATENCY_MSEC=50 /usr/bin/skypeforlinux

# AF - start Hiri email client
# UPDATE: subscription expired
# exec /snap/bin/hiri
exec /usr/bin/evolution

# AF - start more things
exec /usr/bin/pavucontrol
exec /opt/cisco/anyconnect/bin/vpnui

# Screen brightness controls
bindsym XF86MonBrightnessUp exec "light -A 1; notify-send -u low 'ÔÄõ' `light`%"
bindsym XF86MonBrightnessDown exec "light -U 1; notify-send -u low 'ÔÄö' `light`%"

client.focused #859900 #859900 #fdf6e3 #6c71c4
client.focused_inactive #073642 #073642 #eee8d5 #6c71c4
client.unfocused #073642 #073642 #93a1a1 #586e75
client.urgent #d33682 #d33682 #fdf6e3 #dc322f
